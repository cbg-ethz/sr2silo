# COVID-19 sr2silo Configuration

### Virus Metadata
VIRUS_NAME: "covid"
VIRUS_DISPLAY_NAME: "SARS-CoV-2"

### Sample Selection
LOCATIONS:
  - 5   # Lugano (TI)
  - 15  # Basel (BS)
  - 17  # Chur (GR)
  - 10  # ZÃ¼rich (ZH)
  - 16  # Geneva (GE)
  - 25  # Laupen (BE)

START_DATE: "3_MONTHS_AGO"
END_DATE: "TODAY"

### Input Files
BASE_SAMPLE_DIR: "/cluster/project/pangolin/processes/sars_cov_2/vpipe_output"
TIMELINE_FILE: "/cluster/project/pangolin/processes/sars_cov_2/lollipop/variants/timeline.tsv"

### Output Files
RESULTS_DIR: "../../silo-inputs/covid"
LOG_DIR: "../../logs/covid"

### Loculus Configuration
KEYCLOAK_TOKEN_URL: "https://auth.db.wasap.genspectrum.org/realms/loculus/protocol/openid-connect/token"
BACKEND_URL: "https://api.db.wasap.genspectrum.org/backend"
GROUP_ID: 1
ORGANISM: "covid"
LAPIS_URL: "https://lapis.wasap.genspectrum.org/"

# Auto-release: automatically approve sequences after submission
AUTO_RELEASE: false
RELEASE_DELAY: 180  # Seconds to wait before releasing

# Credentials loaded from secrets/credentials.enc at runtime via secrets.py
# Do NOT include plaintext USERNAME or PASSWORD here

### Subsampling Configuration
ENABLE_SUBSAMPLING: true
SUBSAMPLE_MAX_READS: 4500000

### Reference Filtering
# The reference accession to filter reads by when processing BAM files.
# This should match the @SQ SN field in the BAM header.
# Find this by running: samtools view -H REF_aln_trim.bam | grep @SQ
# Leave empty or omit to process all reads (backward compatible).
REFERENCE_ACCESSION: ""  # Not needed - COVID BAM has single reference

### Resource Configuration
SLURM_CPUS: 20
SLURM_MEM: "160G"
